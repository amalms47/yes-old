$(function(){$.validator.setDefaults({errorClass:"help-block",highlight:function(e){$(e).closest(".form-group  ").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group ").removeClass("has-error")}}),$.validator.addMethod("pattern",function(e,a,r){return!!this.optional(a)||("string"==typeof r&&(r=new RegExp("^(?:"+r+")$")),r.test(e))},"Invalid input information."),savepasword(),saveprofile(),loaduser()}).ajaxStart(function(){Pace.restart()});var saveprofile=function(){$("#Profileform").validate({rules:{emailid:{required:!0,email:!0},contactno:{required:!0,pattern:"[0-9]{10}"},username:{required:!0,pattern:"[a-zA-Z s]{2,32}"}},messages:{emailid:{required:"Please enter  the email id .",email:"Please enter correct emailid"},contactno:{required:"Please enter  the phoneno.",pattern:"Please enter correct phoneno"},username:{required:"Please enter  the username.",pattern:"Please enter correct username"}}}),$("#Profileform").on("submit",function(e){if(e.preventDefault(),!$("#Profileform").valid())return!1;var a=$("#Profileform").serialize();$.post("Institute/saveUserProfile",a,function(e){$("#custom_message").html(e.message),$("#myModal").modal({backdrop:"static",keyboard:!1})},"json").done(function(){loaduser()})})},loaduser=function(){$.post("Institute/getInstitute",{data:["username","emailid","contactno"]},function(e){$("#username").val(e.data.username),$("#susername").html(e.data.username),$("#emailid").val(e.data.emailid),$("#semailid").html(e.data.emailid),$("#contactno").val(e.data.contactno),$("#scontactno").html(e.data.contactno)})},savepasword=function(){$("#PasswordForm").validate({rules:{oldpass:{required:!0,minlength:6,pattern:"(?=.*?[a-zA-Z])(?=.*?[0-9])(?=.*?[@#%$;])[a-zA-Z0-9@#%$;]{6,32}"},newpass:{required:!0,minlength:6,pattern:"(?=.*?[a-zA-Z])(?=.*?[0-9])(?=.*?[@#%$;])[a-zA-Z0-9@#%$;]{6,32}"},reppass:{required:!0,equalTo:"#newpass"}},messages:{oldpass:{required:"Please enter  the password .",pattern:"Please enter correct password"},newpass:{required:"Please enter new the password .",pattern:"Password contain character,number,special charactor."},reppass:{required:"Please enter  the password .",pattern:"Password doesnot match"}}}),$("#PasswordForm").on("submit",function(e){if(e.preventDefault(),!$("#PasswordForm").valid())return!1;var a=$("#PasswordForm").serialize();$.post(site_url+"Institute/savePassword",a,function(e){$("#custom_message").html(e.message),$("#myModal").modal({backdrop:"static",keyboard:!1}),$("#PasswordForm")[0].reset()},"json")})};