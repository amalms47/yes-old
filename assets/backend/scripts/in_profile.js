$(function(){$.validator.setDefaults({errorClass:"help-block",highlight:function(t){$(t).closest(".form-group  ").addClass("has-error")},unhighlight:function(t){$(t).closest(".form-group ").removeClass("has-error")}}),$.validator.addMethod("pattern",function(t,e,a){return!!this.optional(e)||("string"==typeof a&&(a=new RegExp("^(?:"+a+")$")),a.test(t))},"Invalid input information."),$('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({checkboxClass:"icheckbox_flat-blue"}),loadprofile(),saveprofile()}).ajaxStart(function(){Pace.restart()});var loadcategory=function(){return $.post("Institute/getCategory",function(t){var e='<option value="">SELECT COLLEGE CATEGORY</option>';if("0"===t.iserror){var a=t.category;for(var r in a){var i=a[r];e+='<option value="'+i.category+'" >'+i.category+"</option>"}}$("#type").html(e)},"json")},loadprofile=function(){$.post(site_url+"Institute/getInstitute",{data:["*"]},function(t){$("#title").val(t.data.title),$("#shortname").val(t.data.shortname),$("#subtitle").val(t.data.subtitle),$("#url").val(t.data.url),loadcategory().done(function(){$("#type").val(t.data.type)}),$("#state").val(t.data.state),select_district($("#state").val()),$("#district").val(t.data.district),$("#university").val(t.data.university),$("#address").val(t.data.address),$("#city").val(t.data.city),$("#collegetype").val(t.data.collegetype),$("#details").val(t.data.details),$("#pincode").val(t.data.pincode),$("#f_atm").iCheck(0==t.data.f_atm?"uncheck":"check"),$("#f_canteen").iCheck(0==t.data.f_canteen?"uncheck":"check"),$("#f_hostel").iCheck(0==t.data.f_hostel?"uncheck":"check"),$("#f_wifi").iCheck(0==t.data.f_wifi?"uncheck":"check"),$("#f_sports").iCheck(0==t.data.f_sports?"uncheck":"check"),$("#f_bus").iCheck(0==t.data.f_bus?"uncheck":"check"),$("#f_library").iCheck(0==t.data.f_library?"uncheck":"check"),$("#regdate").html(t.data.regdate)})},saveprofile=function(){$.validator.setDefaults({errorClass:"help-block",highlight:function(t){$(t).closest(".form-group  ").addClass("has-error")},unhighlight:function(t){$(t).closest(".form-group ").removeClass("has-error")}}),validators=$("#profileform").validate({rules:{pincode:{pattern:"[0-9]{3,10}"},title:{required:!0,pattern:"[a-zA-Z ]{3,100}"},address:{required:!0},state:{required:!0},district:{required:!0}},messages:{pincode:{pattern:"Only numbers allowed"},title:{required:"Enter college full name",pattern:"Numbers or charactors not allowed"},address:{required:"Enter college address "},state:{required:"Select college state"},district:{required:"Select college district"}}}),$("#profileform").on("submit",function(t){if(t.preventDefault(),!$("#profileform").valid())return!1;var e=$("#profileform").serialize();$.post("Institute/saveInstitute",e,function(t){$("#custom_message").html(t.message),$("#myModal").modal({backdrop:"static",keyboard:!1}),loadprofile()})})};