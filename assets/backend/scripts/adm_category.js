$(function(){getcategory(1),searchcategory(),newcategory()});var getcategory=function(t){$.post(site_url+"Administrator/getCategory",{search:$("#catsearch").val(),page:t},function(t){var a="",e="",c=1;if(0===t.error){var o=t.content;for(var r in o){var i=o[r];e=1==i.active?"Active":"Blocked",a+="<tr>",a+="<td>"+c+".</td>",c++,a+="<td>"+i.categoryname+"</td>",a+="<td>"+i.date+"</td>",a+="<td>"+i.caddedby+"</td>",a+="<td>"+e+"</td>",a+='<td><button type="button" class="btn bg-gray " onclick="Updatecategory('+i.id+",'"+i.categoryname+'\')"><i class="fa fa-edit"></i> Edit</button></td>',1==i.active?a+='<td><span  style="color: green;font-size: large" class="fa fa-check" onclick="activecategory('+i.id+","+i.active+')"></span></td>':0==i.active&&(a+='<td><span  style="color: darkred;font-size: large" class="fa fa-times" onclick="activecategory('+i.id+","+i.active+')"></span></td>'),a+="<tr>"}var n="",d=t.page_count;n+=' <ul class="pagination pagination-sm  pull-right" style="margin:0px;"><li><a  href="javascript:void(0);" onclick="getcategory(1)">«</a></li>';for(var s=1;s<=d;s++)n+=' <li><a  href="javascript:void(0);" onclick="getcategory('+s+')">'+s+"</a></li>";n+='<li><a href="javascript:void(0);"  onclick="getcategory('+d+')">»</a></li>',$("#coursepages").html(n)}else a="<tr><td>no information found at server</td></tr>";$("#categorybody").html(a)})},searchcategory=function(){$("#catsearch").on("keyup",function(t){t.preventDefault(),getcategory(1)})},newcategory=function(){$("#admincatsubmit").on("click",function(){var t=$("#catname").val();$.post("Administrator/newCategory",{category:t},function(t){$("#catname").val(""),getcategory(1),$("#custom_heading").html("Server response"),$("#custom_message").html(t.message),$("#alertmodal").modal({backdrop:"static",keyboard:!1})})})},Updatecategory=function(t,a){$("#updatecatmodal").modal({backdrop:"static",keyboard:!1}),$("#updatecatname").val(a),$("#updatecatsubmit").click(function(){var a=$("#updatecatname").val();$.post("Administrator/updateCategory",{catid:t,category:a},function(t){$("#updatecatname").val(""),getcategory(1),$("#custom_heading").html("Server response"),$("#custom_message").html(t.message),$("#alertmodal").modal({backdrop:"static",keyboard:!1})})})},activecategory=function(t,a){var e="0";0==a&&(e=1),$.post("Administrator/blockCategory",{option:e,id:t},function(t){getcategory(1)})};